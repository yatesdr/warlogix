# TUI Theming System - Stashed Work

**Stash name:** `WIP: Theming system for TUI`
**To restore:** `git stash pop`

## What was implemented

### 1. Theme struct in `tui/styles.go`
- Created `Theme` struct with tcell.Color values and pre-computed inline tag strings
- Helper methods: `Label()`, `Shortcut()`, `ShortcutLabel()`, `ErrorText()`, `SuccessText()`, `Dim()`
- `NewTheme()` constructor that computes tag strings from colors
- `SetTheme(name)` function to switch themes
- `CurrentTheme` global variable

### 2. Five built-in themes
- `default` - Original blue/yellow/green look
- `retro` - Cyan/lime/amber (old-school terminal aesthetic)
- `mono` - Green phosphor monochrome
- `amber` - Amber phosphor monochrome
- `highcontrast` - Accessibility-focused

### 3. Config support in `config/config.go`
- Added `UIConfig` struct with `Theme string` field
- Added `UI UIConfig` to main `Config` struct
- Usage: `ui: { theme: retro }` in YAML config

### 4. Theme initialization in `tui/app.go`
- All three `NewApp*` functions call `SetTheme(cfg.UI.Theme)` if theme is set

### 5. Updated all TUI tabs to use `CurrentTheme`:
- `plcs.go` - Button bar, headers, status indicators, info dialog
- `browser.go` - Tree nodes, tag details, status bar, all indicators
- `mqtttab.go` - Button bar, headers, info panel, table indicators
- `valkeytab.go` - Button bar, headers, info panel, table indicators
- `kafkatab.go` - Button bar, headers, info panel
- `triggerstab.go` - Button bar, headers, info panel, status indicators
- `rest.go` - Endpoints list, status bar
- `debug.go` - Status bar, log timestamps, category prefixes (ERROR, INFO, MQTT, etc.)
- `app.go` - Tab display

## Pattern used throughout

```go
th := CurrentTheme

// For button bars:
buttonText := " " + th.TagAccent + "a" + th.TagText + "dd  " + ...

// For table headers:
SetTextColor(CurrentTheme.Accent)

// For status indicators:
indicator = CurrentTheme.StatusConnected  // or StatusDisconnected, StatusError, etc.

// For labels:
th.Label("Name", value)  // Returns "Name: value" with themed colors

// For inline formatted text:
fmt.Sprintf("%sLabel:%s value", th.TagAccent, th.TagReset)
```

## Testing

To test after restoring:
1. `git stash pop`
2. Add `ui: { theme: retro }` to config file
3. Run the app
4. Available themes: default, retro, mono, amber, highcontrast

## Notes
- Build passes with all changes
- Legacy color variables still exist for backwards compatibility but reference CurrentTheme
- Runtime theme switching is supported (though UI won't update until components refresh)
