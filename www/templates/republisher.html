{{template "header" .}}

<div class="page-header">
    <h1>Republisher</h1>
</div>

<div class="republisher-layout">
    <div class="republisher-tree-wrapper">
        <div class="plc-picker-wrapper" id="plc-selector"></div>
        <div class="republisher-tree" id="republisher-tree">
            {{template "republisher_tree.html" .}}
        </div>
    </div>
    <div class="republisher-details" id="republisher-details">
        <div class="details-placeholder">
            Select a tag to view details
        </div>
    </div>
</div>

<!-- Tag Add/Edit Modal -->
<div id="tag-modal" class="modal" style="display:none">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="tag-modal-title">Add Tag</h3>
            <button class="modal-close" onclick="WarLink.hideModal('tag-modal')">&times;</button>
        </div>
        <form onsubmit="submitTagModal(event)">
            <div class="modal-body">
                <input type="hidden" id="tag-modal-plc" />
                <input type="hidden" id="tag-modal-mode" value="add" />
                <input type="hidden" id="tag-modal-original-name" />
                <div id="tag-modal-fields"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn" onclick="WarLink.hideModal('tag-modal')">Cancel</button>
                <button type="submit" class="btn btn-primary" id="tag-modal-submit">Add Tag</button>
            </div>
        </form>
    </div>
</div>

<script src="/static/js/republisher.js"></script>
<script src="/static/js/sse-events.js"></script>

{{template "footer" .}}
