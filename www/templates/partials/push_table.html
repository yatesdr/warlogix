{{range $push := .Pushes}}
<div class="tagpack-item collapsed" data-name="{{$push.Name}}" data-status="{{$push.Status}}" data-status-class="{{$push.StatusClass}}">
    <div class="tagpack-header" onclick="togglePushExpand(this)">
        <span class="tagpack-expand">&#9660;</span>
        <span class="tagpack-name">{{$push.Name}}</span>
        <span class="trigger-condition" title="{{$push.Method}} {{$push.URL}}">
            {{$push.Method}} {{$push.URL}}
        </span>
        <span class="tagpack-member-count">{{len $push.Conditions}} cond{{if ne (len $push.Conditions) 1}}s{{end}}</span>
        {{if $.IsAdmin}}
        <button class="status-indicator {{$push.StatusClass}}" onclick="togglePush(event, '{{$push.Name}}', '{{$push.Status}}')"
                title="{{if or (eq $push.Status "Armed") (eq $push.Status "Firing")}}Click to stop{{else}}Click to start{{end}}">
            {{$push.Status}}
        </button>
        {{else}}
        <span class="status-badge {{$push.StatusClass}}">{{$push.Status}}</span>
        {{end}}
    </div>
    <div class="tagpack-members">
        {{if $push.Conditions}}
        {{range $i, $cond := $push.Conditions}}
        <div class="member-row">
            <span class="member-tag">{{$cond.PLC}}: {{$cond.Tag}} {{$cond.Operator}} {{$cond.Value}}</span>
        </div>
        {{end}}
        {{else}}
        <div class="member-empty">No conditions configured</div>
        {{end}}
    </div>
</div>
{{else}}
<div id="empty-state" class="empty-state">No push webhooks configured</div>
{{end}}
